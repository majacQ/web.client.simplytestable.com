{% extends 'SimplyTestableWebClientBundle::bs3/base.html.twig' %}

{% block title %}{% if is_logged_in == false %}Demo{% endif %} Dashboard (Start Test, Test History) - {{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}

    {% stylesheets
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/modal.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/full-width.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/action-badge.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/test-options.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/cookies-options-modal.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/btn-significant.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/dashboard.css'
    filter='cssrewrite' %}
    <link rel="stylesheet" href="{{ asset_url }}"/>
    {% endstylesheets %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    {% javascripts
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stModal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stFormHelper.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/modal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/http-authentication-options-modal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/cookie-options-modal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/dashboard.js'
    %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block body_class %} {{ parent() }} full-width {% endblock %}

{% block body %}
    {{ parent() }}

    <div class="alert-container">
        {% if is_logged_in == false %}
            {% include 'SimplyTestableWebClientBundle:bs3/Partials/Generic:limited-demo-notification.html.twig' %}
        {% endif %}
    </div>

    <div class="header">
        <div class="container">
            {#{{ dump(test_options) }}#}

            <form id="test-start-form" method="post" action="{{ path('test_start') }}">
                <div class="col-lg-9">
                    <label for="website" class="sr-only">
                        What website or page do you want to test?
                    </label>
                    <input id="website"
                           type="text"
                           name="website"
                           class="form-control"
                           placeholder="Enter the address of the site or web page you want to test">

                            <p class="sr-only">What tests do you want to carry out?</p>
                            {% include 'SimplyTestableWebClientBundle:bs3/Partials/Dashboard/TaskTypes:task-types.html.twig' %}
                </div>
                <div class="col-lg-3 buttons">
                    <button class="btn btn-primary" type="submit" name="full-single" value="full">
                        <i class="fa fa-fw fa-globe"></i>
                        Test entire site
                    </button>
                    <button class="btn btn-default" type="submit" name="full-single" value="single">
                        <i class="fa fa-fw fa-circle-o"></i>
                        Test this page only
                    </button>

                    <div class="options">
                        {% if test_options['http-authentication'] is defined %}
                            <div class="test-option">
                                {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/Options/HttpAuthentication:http-authentication.html.twig' %}
                            </div>
                        {% endif %}

                        {% if test_options['cookies'] is defined %}
                            <div class="test-option">
                                {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/Options/Cookies:cookies.html.twig' %}
                            </div>
                        {% endif %}
                    </div>
                </div>
                <div class="col-lg-12">
                    {% import 'SimplyTestableWebClientBundle:bs3/Macro:form.html.twig' as form %}

                    <span id="test-options-control"
                          class="collapse-control collapsed link"
                          data-toggle="collapse" data-target="#css-validation-options-advanced">
                        Advanced CSS validation options
                        <i class="fa fa-caret-down"></i>
                    </span>

                    {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/Options/CssValidation:advanced-options.html.twig' with {'is_disabled': false, 'container_classes': ['test-options-set']} %}


                </div>

            </form>
        </div>
    </div>


{% endblock %}