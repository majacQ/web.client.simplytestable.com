{% extends 'SimplyTestableWebClientBundle::bs3/base.html.twig' %}

{% block title %}Test History - {{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}

    {% stylesheets
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/modal.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/full-width.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/action-badge.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/test-summary-stats.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/finished-test-summary.css'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/css/test-history.css'
    filter='cssrewrite' %}
    <link rel="stylesheet" href="{{ asset_url }}"/>
    {% endstylesheets %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    {% javascripts
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/bootstrap3-typeahead.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stModal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stFormHelper.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/jQuery/stTestResultPreparer.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/modal.js'
    '@SimplyTestableWebClientBundle/Resources/assets/bs3/js/test-history.js'
    %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block body_class %} {{ parent() }} full-width {% endblock %}

{% block body %}
    {{ parent() }}

    {% if is_logged_in == false %}
        <div class="alert-container">
            <div class="alert alert-info">
                <div class="container">
                    <strong><i class="fa fa-heart"></i></strong> Hi there! This is a <strong>limited free demo</strong>
                    to introduce you to the service. Need more?
                    <a href="{{ path('view_user_signup_index_index') }}">Create a free account</a> or
                    <a href="{{ path('view_user_signin_index') }}">sign in</a>.
                </div>
            </div>
        </div>
    {% endif %}

    <div class="header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>
                        {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/History:heading-content.html.twig' %}
                    </h1>

                    {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/History:url-filter.html.twig' %}

                    {% if test_list.maxresults > 0 %}
                        {% if pagination_page_numbers|length > 0 %}
                            {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/History:pagination-content.html.twig' %}
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 col-sm-12" id="finished-tests">
                {% for test in test_list.get %}
                    {% include 'SimplyTestableWebClientBundle:bs3/Partials/Test/Summary:finished.html.twig' %}
                {% endfor %}
            </div>
        </div>
    </div>

{% endblock %}